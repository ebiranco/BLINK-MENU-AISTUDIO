# BLINK Digital Menu

---

## English

### üöÄ Project Overview

BLINK is a modern, full-stack digital menu platform designed for restaurants. It goes beyond a simple QR code, offering a visually stunning, interactive, and gamified experience for customers. For restaurant owners, it provides a powerful management dashboard equipped with an AI Creative Hub to generate professional marketing content, manage orders in real-time, and build a loyal customer base.

### ‚ú® Features & Capabilities

#### For Customers:
- **Interactive Bilingual Menu:** Seamlessly switch between English and Persian.
- **Dual Viewing Modes:** Choose between a cinematic "Immersive" view or a classic "Grid" layout.
- **Detailed Item Information:** View high-quality images, descriptions, prices, preparation times, and allergen information.
- **Seamless Ordering:** Add items to a shopping cart, specify a table number, and proceed to a simulated payment process.
- **Gamification & Social Hub:**
    - **Blink Bites:** A fun, single-player mini-game to play while waiting.
    - **Esm Famil:** Challenge other online users to a real-time, two-player game of "Esm Famil".
    - **Leaderboard:** Compete for the high score and see your rank among other players.
    - **User Profiles:** Register with a phone number to track game scores and progress.
- **Table Reservations:** A simple form to book a table in advance.

#### For Restaurant Owners (Dashboard):
- **Real-time Order Management:** A Kanban board view (`New`, `In Progress`, `Completed`) to track live orders.
- **Full Menu Control:** Easily add, edit, or delete menu items and categories.
- **ü§ñ AI Creative Hub:**
    - **AI Photography Studio:** Upload a simple photo of a dish and transform it into professional, high-quality images using various style presets and detailed controls (angle, lighting, background).
    - **AI Video Studio:** Generate short, engaging video ads for social media from a single product photo.
- **Customer Club:** View a list of registered customers, their contact information, and their game progress statistics.
- **Upgrades & Credits:** Use a credit system to activate advanced features like the Game Center and Customer Club. Purchase more credits as needed.
- **Financials:** View a history of transactions and configure payment gateway settings.

#### For Platform Admins:
- **SaaS Management Panel:** A separate dashboard to oversee the entire platform.
- **Restaurant Management:** View all registered restaurants, their status, and activate or deactivate them.
- **Platform Analytics:** Get a high-level overview of total revenue, orders, and active restaurants.

### üíª Technology Stack

- **Frontend:** React, TypeScript, Tailwind CSS. A dynamic single-page application (SPA) that provides a fast and responsive user interface.
- **Backend:** Node.js, Express.js. A robust REST API server that handles business logic, database interactions, and secure communication with the Gemini API.
- **Database:** PostgreSQL. A powerful, open-source object-relational database system used to store all persistent data, including restaurant info, menus, customers, and orders.
- **AI Integration:** Google Gemini API
  - **`gemini-2.5-flash-image-preview`**: For AI-powered image editing and re-imagining in the Photography Studio.
  - **`veo-2.0-generate-001`**: For AI video generation.
  - **`gemini-2.5-flash`**: For advanced text generation (menu descriptions) and structured JSON output (AI game opponent).
- **Deployment:** Nginx (Web Server & Reverse Proxy), PM2 (Process Manager), Certbot (SSL).

---

## ‚öôÔ∏è Deployment Guide (Ubuntu 22.04)

This guide provides two methods to deploy the application on a fresh Ubuntu 22.04 server.

#### Prerequisites
- A server running Ubuntu 22.04.
- A registered domain name (e.g., `your_domain.com`).
- A DNS **A record** pointing your domain to your server's public IP address.

---

### Method 1: Automated Deployment (üöÄ Recommended)

This one-line command runs a script that handles everything: installing prerequisites, configuring the database, setting up the web server, and securing your site with a free SSL certificate.

#### üèÅ Deployment Command
Connect to your server via SSH, clone your project, navigate into the directory, and run the `deploy.sh` script. Replace `your_domain.com` with your actual domain.

```bash
# First, clone your project from its repository
git clone https://github.com/your-username/blink-menu.git
cd blink-menu

# Make the script executable
chmod +x deploy.sh

# Then, run the deployment script
sudo ./deploy.sh your_domain.com
```

The script will guide you, asking for a database password and an email for SSL registration.

#### ‚úÖ Final Configuration
After the script finishes, you must manually set your API key.

1.  **Edit the main project `.env` file:**
    ```bash
    sudo nano /var/www/blink-menu/.env
    ```
2.  **Add your Gemini API Key:**
    ```
    API_KEY="YOUR_ACTUAL_GEMINI_API_KEY"
    ```
3.  **Apply Configuration and Restart:**
    ```bash
    cd /var/www/blink-menu
    npm run prepare
    pm2 restart blink-backend
    ```

Your application is now live and secure at **`https://your_domain.com`**.

---

### Method 2: Manual Step-by-Step Deployment

This guide provides detailed, step-by-step instructions for manual deployment.

#### Step 1: Server Setup & Cloning Project

1.  Connect to your server via SSH.
2.  Update your server's package list and install Git:
    ```bash
    sudo apt update && sudo apt upgrade -y
    sudo apt install -y git
    ```
3.  Clone the project into a standard web directory:
    ```bash
    sudo git clone https://github.com/your-username/blink-menu.git /var/www/blink-menu
    cd /var/www/blink-menu
    ```

#### Step 2: Install Dependencies (Node.js, Nginx, PostgreSQL)

1.  Install Node.js (we recommend version 18.x):
    ```bash
    curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
    sudo apt install -y nodejs
    ```
2.  Install Nginx web server and PostgreSQL database:
    ```bash
    sudo apt install -y nginx postgresql postgresql-contrib
    ```

#### Step 3: Configure PostgreSQL Database

1.  Start and enable PostgreSQL:
    ```bash
    sudo systemctl start postgresql
    sudo systemctl enable postgresql
    ```
2.  Log in to the PostgreSQL prompt:
    ```bash
    sudo -u postgres psql
    ```
3.  Inside the `psql` prompt, run the following commands. **Replace `your_secure_password` with a strong password.**
    ```sql
    CREATE DATABASE blinkdb;
    CREATE USER blinkuser WITH PASSWORD 'your_secure_password';
    GRANT ALL PRIVILEGES ON DATABASE blinkdb TO blinkuser;
    \q
    ```
4.  Run the `init.sql` script to create the database schema and add mock data:
    ```bash
    sudo -u blinkuser psql -d blinkdb -f /var/www/blink-menu/init.sql
    ```

#### Step 4: Install Project Dependencies

1.  Install dependencies for the root and the backend:
    ```bash
    sudo npm install
    sudo npm install --prefix backend
    ```

#### Step 5: Configure Environment Variables

1.  Create and edit the `.env` file for the backend. This file stores the database connection string.
    ```bash
    sudo nano /var/www/blink-menu/backend/.env
    ```
    Add the following line, replacing `your_secure_password` with the password you created in Step 3:
    ```
    DATABASE_URL="postgresql://blinkuser:your_secure_password@localhost:5432/blinkdb"
    ```
2.  Create and edit the main `.env` file for the frontend. This file stores the Gemini API key.
    ```bash
    sudo nano /var/www/blink-menu/.env
    ```
    Add your API key:
    ```
    API_KEY="YOUR_ACTUAL_GEMINI_API_KEY"
    ```
3.  Generate the frontend configuration file from the `.env` file:
    ```bash
    sudo npm run prepare
    ```
4.  Set correct permissions for the project directory:
    ```bash
    sudo chown -R www-data:www-data /var/www/blink-menu
    ```

#### Step 6: Start Backend with PM2

1.  Install PM2, a process manager for Node.js:
    ```bash
    sudo npm install pm2 -g
    ```
2.  Start the backend server with PM2:
    ```bash
    cd /var/www/blink-menu/backend
    sudo pm2 start server.js --name blink-backend
    ```
3.  Configure PM2 to start on server reboot:
    ```bash
    sudo pm2 startup systemd
    # Follow the on-screen instructions (copy/paste and run the command it provides)
    sudo pm2 save
    ```

#### Step 7: Configure Nginx as a Reverse Proxy

1.  Create a new Nginx configuration file for your site. Replace `your_domain.com` with your actual domain.
    ```bash
    sudo nano /etc/nginx/sites-available/your_domain.com
    ```
2.  Paste the following configuration into the file. **Remember to replace `your_domain.com` in both places.**
    ```nginx
    server {
        listen 80;
        server_name your_domain.com;
        root /var/www/blink-menu;

        index index.html;

        location / {
            try_files $uri $uri/ /index.html;
        }

        location /api/ {
            proxy_pass http://localhost:5000;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection 'upgrade';
            proxy_set_header Host $host;
            proxy_cache_bypass $http_upgrade;
        }
    }
    ```
3.  Enable the site by creating a symbolic link:
    ```bash
    sudo ln -s /etc/nginx/sites-available/your_domain.com /etc/nginx/sites-enabled/
    ```
4.  Test your Nginx configuration for errors:
    ```bash
    sudo nginx -t
    ```
5.  If the test is successful, restart Nginx to apply the changes:
    ```bash
    sudo systemctl restart nginx
    ```

#### Step 8: Obtain SSL Certificate with Certbot

1.  Install Certbot, the tool for getting Let's Encrypt SSL certificates:
    ```bash
    sudo apt install -y certbot python3-certbot-nginx
    ```
2.  Run Certbot to automatically obtain and install the SSL certificate. Replace `your_domain.com` with your domain and provide your email.
    ```bash
    sudo certbot --nginx -d your_domain.com --email your_email@example.com --agree-tos -n --redirect
    ```
    *   `--redirect` automatically redirects all HTTP traffic to HTTPS.
    *   `-n` runs it non-interactively.

Certbot will automatically renew your certificate before it expires.

That's it! Your application is now live and secure at **`https://your_domain.com`**.

---
---

## ŸÅÿßÿ±ÿ≥€å (Persian)

### üöÄ ŸÖÿπÿ±ŸÅ€å Ÿæÿ±Ÿà⁄òŸá

BLINK €å⁄© ŸæŸÑÿ™ŸÅÿ±ŸÖ ŸÖŸÜŸà€å ÿØ€åÿ¨€åÿ™ÿßŸÑ ŸÖÿØÿ±ŸÜ Ÿà Full-Stack ÿßÿ≥ÿ™ ⁄©Ÿá ÿ®ÿ±ÿß€å ÿ±ÿ≥ÿ™Ÿàÿ±ÿßŸÜ‚ÄåŸáÿß ÿ∑ÿ±ÿßÿ≠€å ÿ¥ÿØŸá ÿßÿ≥ÿ™. ÿß€åŸÜ ŸæŸÑÿ™ŸÅÿ±ŸÖ ŸÅÿ±ÿßÿ™ÿ± ÿßÿ≤ €å⁄© QR ⁄©ÿØ ÿ≥ÿßÿØŸá ÿπŸÖŸÑ ⁄©ÿ±ÿØŸá Ÿà €å⁄© ÿ™ÿ¨ÿ±ÿ®Ÿá ÿ®ÿµÿ±€å ÿÆ€åÿ±Ÿá‚Äå⁄©ŸÜŸÜÿØŸáÿå ÿ™ÿπÿßŸÖŸÑ€å Ÿà ŸÖÿ®ÿ™ŸÜ€å ÿ®ÿ± ÿ®ÿßÿ≤€å (Gamified) ÿ®ÿ±ÿß€å ŸÖÿ¥ÿ™ÿ±€åÿßŸÜ ŸÅÿ±ÿßŸáŸÖ ŸÖ€å‚Äå⁄©ŸÜÿØ.

### ‚öôÔ∏è ÿ±ÿßŸáŸÜŸÖÿß€å ÿßÿ≥ÿ™ŸÇÿ±ÿßÿ± (Ubuntu 22.04)

ÿß€åŸÜ ÿ±ÿßŸáŸÜŸÖÿß ÿØŸà ÿ±Ÿàÿ¥ ÿ®ÿ±ÿß€å ÿßÿ≥ÿ™ŸÇÿ±ÿßÿ± ÿßŸæŸÑ€å⁄©€åÿ¥ŸÜ ÿ®ÿ± ÿ±Ÿà€å €å⁄© ÿ≥ÿ±Ÿàÿ± ÿßŸàÿ®ŸàŸÜÿ™Ÿà €≤€≤.€∞€¥ ÿßÿ±ÿßÿ¶Ÿá ŸÖ€å‚ÄåÿØŸáÿØ.

#### Ÿæ€åÿ¥‚ÄåŸÜ€åÿßÿ≤Ÿáÿß
- €å⁄© ÿ≥ÿ±Ÿàÿ± ÿ®ÿß ÿ≥€åÿ≥ÿ™ŸÖ‚ÄåÿπÿßŸÖŸÑ Ubuntu 22.04.
- €å⁄© ŸÜÿßŸÖ ÿØÿßŸÖŸÜŸá ÿ´ÿ®ÿ™ ÿ¥ÿØŸá (ŸÖÿ´ÿßŸÑ: `your_domain.com`).
- €å⁄© ÿ±⁄©Ÿàÿ±ÿØ DNS ÿßÿ≤ ŸÜŸàÿπ **A** ⁄©Ÿá ÿØÿßŸÖŸÜŸá ÿ¥ŸÖÿß ÿ±ÿß ÿ®Ÿá IP ÿπŸÖŸàŸÖ€å ÿ≥ÿ±Ÿàÿ± ŸÖÿ™ÿµŸÑ ŸÖ€å‚Äå⁄©ŸÜÿØ.

---

### ÿ±Ÿàÿ¥ ÿßŸàŸÑ: ÿßÿ≥ÿ™ŸÇÿ±ÿßÿ± ÿÆŸàÿØ⁄©ÿßÿ± (üöÄ Ÿæ€åÿ¥ŸÜŸáÿßÿØ€å)

ÿß€åŸÜ ÿØÿ≥ÿ™Ÿàÿ± €å⁄© ÿßÿ≥⁄©ÿ±€åŸæÿ™ ÿ±ÿß ÿßÿ¨ÿ±ÿß ŸÖ€å‚Äå⁄©ŸÜÿØ ⁄©Ÿá ŸáŸÖŸá ⁄©ÿßÿ±Ÿáÿß ÿ±ÿß ÿßŸÜÿ¨ÿßŸÖ ŸÖ€å‚ÄåÿØŸáÿØ: ŸÜÿµÿ® Ÿæ€åÿ¥‚ÄåŸÜ€åÿßÿ≤Ÿáÿßÿå Ÿæ€å⁄©ÿ±ÿ®ŸÜÿØ€å ÿØ€åÿ™ÿßÿ®€åÿ≥ÿå ÿ±ÿßŸá‚ÄåÿßŸÜÿØÿßÿ≤€å Ÿàÿ®‚Äåÿ≥ÿ±Ÿàÿ± Ÿà ÿßŸÖŸÜ‚Äåÿ≥ÿßÿ≤€å ÿ≥ÿß€åÿ™ ÿ®ÿß ⁄ØŸàÿßŸá€å SSL ÿ±ÿß€å⁄ØÿßŸÜ.

#### üèÅ ÿØÿ≥ÿ™Ÿàÿ± ÿßÿ≥ÿ™ŸÇÿ±ÿßÿ±
ÿßÿ≤ ÿ∑ÿ±€åŸÇ SSH ÿ®Ÿá ÿ≥ÿ±Ÿàÿ± ŸÖÿ™ÿµŸÑ ÿ¥Ÿà€åÿØÿå Ÿæÿ±Ÿà⁄òŸá ÿ±ÿß ⁄©ŸÑŸàŸÜ ⁄©ÿ±ÿØŸáÿå Ÿàÿßÿ±ÿØ ŸæŸàÿ¥Ÿá ÿ¢ŸÜ ÿ¥Ÿà€åÿØ Ÿà ÿßÿ≥⁄©ÿ±€åŸæÿ™ `deploy.sh` ÿ±ÿß ÿßÿ¨ÿ±ÿß ⁄©ŸÜ€åÿØ. `your_domain.com` ÿ±ÿß ÿ®ÿß ÿØÿßŸÖŸÜŸá ŸàÿßŸÇÿπ€å ÿÆŸàÿØ ÿ¨ÿß€å⁄Øÿ≤€åŸÜ ⁄©ŸÜ€åÿØ.

```bash
# Ÿæÿ±Ÿà⁄òŸá ÿ±ÿß ÿßÿ≤ ÿ±€åŸæÿßÿ≤€åÿ™Ÿàÿ±€å ÿÆŸàÿØ ⁄©ŸÑŸàŸÜ ⁄©ŸÜ€åÿØ
git clone https://github.com/your-username/blink-menu.git
cd blink-menu

# ÿßÿ≥⁄©ÿ±€åŸæÿ™ ÿ±ÿß ŸÇÿßÿ®ŸÑ ÿßÿ¨ÿ±ÿß ⁄©ŸÜ€åÿØ
chmod +x deploy.sh

# ÿßÿ≥⁄©ÿ±€åŸæÿ™ ÿßÿ≥ÿ™ŸÇÿ±ÿßÿ± ÿ±ÿß ÿßÿ¨ÿ±ÿß ⁄©ŸÜ€åÿØ
sudo ./deploy.sh your_domain.com
```
ÿßÿ≥⁄©ÿ±€åŸæÿ™ ÿßÿ≤ ÿ¥ŸÖÿß €å⁄© ÿ±ŸÖÿ≤ ÿπÿ®Ÿàÿ± ÿ®ÿ±ÿß€å ÿØ€åÿ™ÿßÿ®€åÿ≥ Ÿà €å⁄© ÿß€åŸÖ€åŸÑ ÿ®ÿ±ÿß€å ⁄ØŸàÿßŸá€å SSL ÿÆŸàÿßŸáÿØ ÿÆŸàÿßÿ≥ÿ™.

#### ‚úÖ ÿ™ŸÜÿ∏€åŸÖÿßÿ™ ŸÜŸáÿß€å€å
Ÿæÿ≥ ÿßÿ≤ ÿßÿ™ŸÖÿßŸÖ ÿßÿ≥⁄©ÿ±€åŸæÿ™ÿå ŸÅŸÇÿ∑ ⁄©ŸÑ€åÿØ API ÿÆŸàÿØ ÿ±ÿß ÿ®Ÿá ÿµŸàÿ±ÿ™ ÿØÿ≥ÿ™€å ÿ™ŸÜÿ∏€åŸÖ ⁄©ŸÜ€åÿØ.

1.  **ŸÅÿß€åŸÑ `.env` ÿßÿµŸÑ€å ÿ±ÿß Ÿà€åÿ±ÿß€åÿ¥ ⁄©ŸÜ€åÿØ:**
    ```bash
    sudo nano /var/www/blink-menu/.env
    ```
2.  **⁄©ŸÑ€åÿØ Gemini API ÿÆŸàÿØ ÿ±ÿß ÿßÿ∂ÿßŸÅŸá ⁄©ŸÜ€åÿØ:**
    ```
    API_KEY="YOUR_ACTUAL_GEMINI_API_KEY"
    ```
3.  **ÿßÿπŸÖÿßŸÑ ÿ™ŸÜÿ∏€åŸÖÿßÿ™ Ÿà ÿ±ÿßŸá‚ÄåÿßŸÜÿØÿßÿ≤€å ŸÖÿ¨ÿØÿØ:**
    ```bash
    cd /var/www/blink-menu
    npm run prepare
    pm2 restart blink-backend
    ```

ÿßŸæŸÑ€å⁄©€åÿ¥ŸÜ ÿ¥ŸÖÿß ÿß⁄©ŸÜŸàŸÜ ÿ®ÿ± ÿ±Ÿà€å ÿ¢ÿØÿ±ÿ≥ **`https://your_domain.com`** ŸÅÿπÿßŸÑ ÿßÿ≥ÿ™.

---

### ÿ±Ÿàÿ¥ ÿØŸàŸÖ: ÿßÿ≥ÿ™ŸÇÿ±ÿßÿ± ÿØÿ≥ÿ™€å ŸÇÿØŸÖ‚Äåÿ®Ÿá‚ÄåŸÇÿØŸÖ

ÿß€åŸÜ ÿ±ÿßŸáŸÜŸÖÿß ÿ¥ÿßŸÖŸÑ ÿØÿ≥ÿ™Ÿàÿ±ÿßŸÑÿπŸÖŸÑ‚ÄåŸáÿß€å ÿØŸÇ€åŸÇ ÿ®ÿ±ÿß€å ÿßÿ≥ÿ™ŸÇÿ±ÿßÿ± ÿØÿ≥ÿ™€å ÿßÿ≥ÿ™.

#### ŸÖÿ±ÿ≠ŸÑŸá €±: ÿ±ÿßŸá‚ÄåÿßŸÜÿØÿßÿ≤€å ÿ≥ÿ±Ÿàÿ± Ÿà ⁄©ŸÑŸàŸÜ ⁄©ÿ±ÿØŸÜ Ÿæÿ±Ÿà⁄òŸá

1.  ÿßÿ≤ ÿ∑ÿ±€åŸÇ SSH ÿ®Ÿá ÿ≥ÿ±Ÿàÿ± ÿÆŸàÿØ ŸÖÿ™ÿµŸÑ ÿ¥Ÿà€åÿØ.
2.  ŸÑ€åÿ≥ÿ™ Ÿæ⁄©€åÿ¨‚ÄåŸáÿß€å ÿ≥ÿ±Ÿàÿ± ÿ±ÿß ÿ®Ÿá‚Äåÿ±Ÿàÿ≤ ⁄©ÿ±ÿØŸá Ÿà Git ÿ±ÿß ŸÜÿµÿ® ⁄©ŸÜ€åÿØ:
    ```bash
    sudo apt update && sudo apt upgrade -y
    sudo apt install -y git
    ```
3.  Ÿæÿ±Ÿà⁄òŸá ÿ±ÿß ÿØÿ± €å⁄© ŸÖÿ≥€åÿ± ÿßÿ≥ÿ™ÿßŸÜÿØÿßÿ±ÿØ Ÿàÿ® ⁄©ŸÑŸàŸÜ ⁄©ŸÜ€åÿØ:
    ```bash
    sudo git clone https://github.com/your-username/blink-menu.git /var/www/blink-menu
    cd /var/www/blink-menu
    ```

#### ŸÖÿ±ÿ≠ŸÑŸá €≤: ŸÜÿµÿ® ŸÜ€åÿßÿ≤ŸÖŸÜÿØ€å‚ÄåŸáÿß (Node.js, Nginx, PostgreSQL)

1.  Node.js (ŸÜÿ≥ÿÆŸá €±€∏.x) ÿ±ÿß ŸÜÿµÿ® ⁄©ŸÜ€åÿØ:
    ```bash
    curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
    sudo apt install -y nodejs
    ```
2.  Ÿàÿ® ÿ≥ÿ±Ÿàÿ± Nginx Ÿà ÿØ€åÿ™ÿßÿ®€åÿ≥ PostgreSQL ÿ±ÿß ŸÜÿµÿ® ⁄©ŸÜ€åÿØ:
    ```bash
    sudo apt install -y nginx postgresql postgresql-contrib
    ```

#### ŸÖÿ±ÿ≠ŸÑŸá €≥: Ÿæ€å⁄©ÿ±ÿ®ŸÜÿØ€å ÿØ€åÿ™ÿßÿ®€åÿ≥ PostgreSQL

1.  PostgreSQL ÿ±ÿß ŸÅÿπÿßŸÑ Ÿà ÿßÿ¨ÿ±ÿß ⁄©ŸÜ€åÿØ:
    ```bash
    sudo systemctl start postgresql
    sudo systemctl enable postgresql
    ```
2.  Ÿàÿßÿ±ÿØ ŸÖÿ≠€åÿ∑ ÿÆÿ∑ ŸÅÿ±ŸÖÿßŸÜ PostgreSQL ÿ¥Ÿà€åÿØ:
    ```bash
    sudo -u postgres psql
    ```
3.  ÿØÿ± ŸÖÿ≠€åÿ∑ `psql`ÿå ÿØÿ≥ÿ™Ÿàÿ±ÿßÿ™ ÿ≤€åÿ± ÿ±ÿß ÿßÿ¨ÿ±ÿß ⁄©ŸÜ€åÿØ. **ÿ±ŸÖÿ≤ ÿπÿ®Ÿàÿ± `your_secure_password` ÿ±ÿß ÿ®ÿß €å⁄© ÿ±ŸÖÿ≤ ŸÇŸà€å ÿ¨ÿß€å⁄Øÿ≤€åŸÜ ⁄©ŸÜ€åÿØ.**
    ```sql
    CREATE DATABASE blinkdb;
    CREATE USER blinkuser WITH PASSWORD 'your_secure_password';
    GRANT ALL PRIVILEGES ON DATABASE blinkdb TO blinkuser;
    \q
    ```
4.  ÿßÿ≥⁄©ÿ±€åŸæÿ™ `init.sql` ÿ±ÿß ÿ®ÿ±ÿß€å ÿ≥ÿßÿÆÿ™ ÿ¨ÿØÿßŸàŸÑ Ÿà ÿßŸÅÿ≤ŸàÿØŸÜ ÿØÿßÿØŸá‚ÄåŸáÿß€å ÿßŸàŸÑ€åŸá ÿßÿ¨ÿ±ÿß ⁄©ŸÜ€åÿØ:
    ```bash
    sudo -u blinkuser psql -d blinkdb -f /var/www/blink-menu/init.sql
    ```

#### ŸÖÿ±ÿ≠ŸÑŸá €¥: ŸÜÿµÿ® Ÿàÿßÿ®ÿ≥ÿ™⁄Ø€å‚ÄåŸáÿß€å Ÿæÿ±Ÿà⁄òŸá

1.  Ÿàÿßÿ®ÿ≥ÿ™⁄Ø€å‚ÄåŸáÿß€å ŸÑÿßÿ≤ŸÖ ÿ®ÿ±ÿß€å ÿ±€åÿ¥Ÿá Ÿæÿ±Ÿà⁄òŸá Ÿà ÿ®⁄©‚ÄåÿßŸÜÿØ ÿ±ÿß ŸÜÿµÿ® ⁄©ŸÜ€åÿØ:
    ```bash
    sudo npm install
    sudo npm install --prefix backend
    ```

#### ŸÖÿ±ÿ≠ŸÑŸá €µ: ÿ™ŸÜÿ∏€åŸÖ ŸÖÿ™ÿ∫€åÿ±Ÿáÿß€å ŸÖÿ≠€åÿ∑€å

1.  ŸÅÿß€åŸÑ `.env` ÿ®⁄©‚ÄåÿßŸÜÿØ ÿ±ÿß ÿ®ÿ±ÿß€å ÿ∞ÿÆ€åÿ±Ÿá ÿßÿ∑ŸÑÿßÿπÿßÿ™ ÿßÿ™ÿµÿßŸÑ ÿ®Ÿá ÿØ€åÿ™ÿßÿ®€åÿ≥ ÿß€åÿ¨ÿßÿØ Ÿà Ÿà€åÿ±ÿß€åÿ¥ ⁄©ŸÜ€åÿØ:
    ```bash
    sudo nano /var/www/blink-menu/backend/.env
    ```
    ÿÆÿ∑ ÿ≤€åÿ± ÿ±ÿß ÿßÿ∂ÿßŸÅŸá ⁄©ÿ±ÿØŸá Ÿà `your_secure_password` ÿ±ÿß ÿ®ÿß ÿ±ŸÖÿ≤ ÿπÿ®Ÿàÿ±€å ⁄©Ÿá ÿØÿ± ŸÖÿ±ÿ≠ŸÑŸá €≥ ÿ≥ÿßÿÆÿ™€åÿØ ÿ¨ÿß€å⁄Øÿ≤€åŸÜ ⁄©ŸÜ€åÿØ:
    ```
    DATABASE_URL="postgresql://blinkuser:your_secure_password@localhost:5432/blinkdb"
    ```
2.  ŸÅÿß€åŸÑ `.env` ÿßÿµŸÑ€å ÿ±ÿß ÿ®ÿ±ÿß€å ⁄©ŸÑ€åÿØ Gemini API ÿß€åÿ¨ÿßÿØ ⁄©ŸÜ€åÿØ:
    ```bash
    sudo nano /var/www/blink-menu/.env
    ```
    ⁄©ŸÑ€åÿØ API ÿÆŸàÿØ ÿ±ÿß ÿßÿ∂ÿßŸÅŸá ⁄©ŸÜ€åÿØ:
    ```
    API_KEY="YOUR_ACTUAL_GEMINI_API_KEY"
    ```
3.  ŸÅÿß€åŸÑ ⁄©ÿßŸÜŸÅ€å⁄Ø ŸÅÿ±ÿßŸÜÿ™‚ÄåÿßŸÜÿØ ÿ±ÿß ÿ™ŸàŸÑ€åÿØ ⁄©ŸÜ€åÿØ:
    ```bash
    sudo npm run prepare
    ```
4.  ÿ≥ÿ∑ÿ≠ ÿØÿ≥ÿ™ÿ±ÿ≥€å ÿµÿ≠€åÿ≠ ÿ±ÿß ÿ®ÿ±ÿß€å ŸæŸàÿ¥Ÿá Ÿæÿ±Ÿà⁄òŸá ÿ™ŸÜÿ∏€åŸÖ ⁄©ŸÜ€åÿØ:
    ```bash
    sudo chown -R www-data:www-data /var/www/blink-menu
    ```

#### ŸÖÿ±ÿ≠ŸÑŸá €∂: ÿßÿ¨ÿ±ÿß€å ÿ®⁄©‚ÄåÿßŸÜÿØ ÿ®ÿß PM2

1.  PM2 (ŸÖÿØ€åÿ± ŸÅÿ±ÿ¢€åŸÜÿØ ÿ®ÿ±ÿß€å Node.js) ÿ±ÿß ŸÜÿµÿ® ⁄©ŸÜ€åÿØ:
    ```bash
    sudo npm install pm2 -g
    ```
2.  ÿ≥ÿ±Ÿàÿ± ÿ®⁄©‚ÄåÿßŸÜÿØ ÿ±ÿß ÿ®ÿß PM2 ÿßÿ¨ÿ±ÿß ⁄©ŸÜ€åÿØ:
    ```bash
    cd /var/www/blink-menu/backend
    sudo pm2 start server.js --name blink-backend
    ```
3.  PM2 ÿ±ÿß ÿ∑Ÿàÿ±€å ÿ™ŸÜÿ∏€åŸÖ ⁄©ŸÜ€åÿØ ⁄©Ÿá ÿ®ÿß ÿ±€åÿ®Ÿàÿ™ ÿ¥ÿØŸÜ ÿ≥ÿ±Ÿàÿ±ÿå ÿ®Ÿá ÿ∑Ÿàÿ± ÿÆŸàÿØ⁄©ÿßÿ± ÿßÿ¨ÿ±ÿß ÿ¥ŸàÿØ:
    ```bash
    sudo pm2 startup systemd
    # ÿØÿ≥ÿ™Ÿàÿ±€å ⁄©Ÿá ŸÜŸÖÿß€åÿ¥ ÿØÿßÿØŸá ŸÖ€å‚Äåÿ¥ŸàÿØ ÿ±ÿß ⁄©Ÿæ€å Ÿà ÿßÿ¨ÿ±ÿß ⁄©ŸÜ€åÿØ
    sudo pm2 save
    ```

#### ŸÖÿ±ÿ≠ŸÑŸá €∑: Ÿæ€å⁄©ÿ±ÿ®ŸÜÿØ€å Nginx ÿ®Ÿá ÿπŸÜŸàÿßŸÜ Reverse Proxy

1.  €å⁄© ŸÅÿß€åŸÑ Ÿæ€å⁄©ÿ±ÿ®ŸÜÿØ€å ÿ¨ÿØ€åÿØ ÿ®ÿ±ÿß€å ÿ≥ÿß€åÿ™ ÿÆŸàÿØ ÿØÿ± Nginx ÿß€åÿ¨ÿßÿØ ⁄©ŸÜ€åÿØ. `your_domain.com` ÿ±ÿß ÿ®ÿß ÿØÿßŸÖŸÜŸá ÿÆŸàÿØ ÿ¨ÿß€å⁄Øÿ≤€åŸÜ ⁄©ŸÜ€åÿØ.
    ```bash
    sudo nano /etc/nginx/sites-available/your_domain.com
    ```
2.  Ÿæ€å⁄©ÿ±ÿ®ŸÜÿØ€å ÿ≤€åÿ± ÿ±ÿß ÿØÿ± ŸÅÿß€åŸÑ ⁄©Ÿæ€å ⁄©ŸÜ€åÿØ. **ŸÅÿ±ÿßŸÖŸàÿ¥ ŸÜ⁄©ŸÜ€åÿØ ⁄©Ÿá `your_domain.com` ÿ±ÿß ÿØÿ± ÿØŸà ÿ¨ÿß ÿ®ÿß ÿØÿßŸÖŸÜŸá ÿÆŸàÿØ ÿ¨ÿß€å⁄Øÿ≤€åŸÜ ⁄©ŸÜ€åÿØ.**
    ```nginx
    server {
        listen 80;
        server_name your_domain.com;
        root /var/www/blink-menu;

        index index.html;

        location / {
            try_files $uri $uri/ /index.html;
        }

        location /api/ {
            proxy_pass http://localhost:5000;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection 'upgrade';
            proxy_set_header Host $host;
            proxy_cache_bypass $http_upgrade;
        }
    }
    ```
3.  ÿß€åŸÜ ÿ≥ÿß€åÿ™ ÿ±ÿß ÿ®ÿß ÿß€åÿ¨ÿßÿØ €å⁄© ŸÑ€åŸÜ⁄© ÿ≥€åŸÖÿ®ŸàŸÑ€å⁄© ŸÅÿπÿßŸÑ ⁄©ŸÜ€åÿØ:
    ```bash
    sudo ln -s /etc/nginx/sites-available/your_domain.com /etc/nginx/sites-enabled/
    ```
4.  Ÿæ€å⁄©ÿ±ÿ®ŸÜÿØ€å Nginx ÿ±ÿß ÿ®ÿ±ÿß€å €åÿßŸÅÿ™ŸÜ ÿÆÿ∑ÿßŸáÿß ÿ™ÿ≥ÿ™ ⁄©ŸÜ€åÿØ:
    ```bash
    sudo nginx -t
    ```
5.  ÿß⁄Øÿ± ÿ™ÿ≥ÿ™ ŸÖŸàŸÅŸÇ€åÿ™‚Äåÿ¢ŸÖ€åÿ≤ ÿ®ŸàÿØÿå Nginx ÿ±ÿß ÿ®ÿ±ÿß€å ÿßÿπŸÖÿßŸÑ ÿ™ÿ∫€å€åÿ±ÿßÿ™ ÿ±€å‚Äåÿßÿ≥ÿ™ÿßÿ±ÿ™ ⁄©ŸÜ€åÿØ:
    ```bash
    sudo systemctl restart nginx
    ```

#### ŸÖÿ±ÿ≠ŸÑŸá €∏: ÿØÿ±€åÿßŸÅÿ™ ⁄ØŸàÿßŸá€å SSL ÿ®ÿß Certbot

1.  ÿßÿ®ÿ≤ÿßÿ± Certbot ÿ±ÿß ÿ®ÿ±ÿß€å ÿØÿ±€åÿßŸÅÿ™ ⁄ØŸàÿßŸá€å SSL ÿ±ÿß€å⁄ØÿßŸÜ ŸÜÿµÿ® ⁄©ŸÜ€åÿØ:
    ```bash
    sudo apt install -y certbot python3-certbot-nginx
    ```
2.  Certbot ÿ±ÿß ÿ®ÿ±ÿß€å ÿØÿ±€åÿßŸÅÿ™ Ÿà ŸÜÿµÿ® ÿÆŸàÿØ⁄©ÿßÿ± ⁄ØŸàÿßŸá€å ÿßÿ¨ÿ±ÿß ⁄©ŸÜ€åÿØ. `your_domain.com` ÿ±ÿß ÿ®ÿß ÿØÿßŸÖŸÜŸá Ÿà `your_email@example.com` ÿ±ÿß ÿ®ÿß ÿß€åŸÖ€åŸÑ ÿÆŸàÿØ ÿ¨ÿß€å⁄Øÿ≤€åŸÜ ⁄©ŸÜ€åÿØ.
    ```bash
    sudo certbot --nginx -d your_domain.com --email your_email@example.com --agree-tos -n --redirect
    ```
    *   ⁄Øÿ≤€åŸÜŸá `--redirect` ÿ™ŸÖÿßŸÖ ÿ™ÿ±ÿßŸÅ€å⁄© HTTP ÿ±ÿß ÿ®Ÿá HTTPS ŸÖŸÜÿ™ŸÇŸÑ ŸÖ€å‚Äå⁄©ŸÜÿØ.

Certbot ⁄ØŸàÿßŸá€å ÿ¥ŸÖÿß ÿ±ÿß ÿ®Ÿá ÿ∑Ÿàÿ± ÿÆŸàÿØ⁄©ÿßÿ± ÿ™ŸÖÿØ€åÿØ ÿÆŸàÿßŸáÿØ ⁄©ÿ±ÿØ.

ÿ™ŸÖÿßŸÖ ÿ¥ÿØ! ÿßŸæŸÑ€å⁄©€åÿ¥ŸÜ ÿ¥ŸÖÿß ÿß⁄©ŸÜŸàŸÜ ÿ®Ÿá ÿµŸàÿ±ÿ™ ÿßŸÖŸÜ ÿ®ÿ± ÿ±Ÿà€å ÿ¢ÿØÿ±ÿ≥ **`https://your_domain.com`** ÿØÿ± ÿØÿ≥ÿ™ÿ±ÿ≥ ÿßÿ≥ÿ™.
